(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14942503"],{"014b":function(t,e,n){"use strict";var a=n("e53d"),r=n("07e3"),o=n("8e60"),i=n("63b6"),s=n("9138"),l=n("ebfd").KEY,c=n("294c"),u=n("dbdb"),f=n("45f2"),m=n("62a0"),d=n("5168"),p=n("ccb9"),b=n("6718"),h=n("47ee"),g=n("9003"),v=n("e4ae"),y=n("f772"),w=n("36c3"),S=n("1bc3"),F=n("aebd"),x=n("a159"),O=n("0395"),k=n("bf0b"),_=n("d9f6"),$=n("c3a1"),T=k.f,D=_.f,L=O.f,j=a.Symbol,E=a.JSON,P=E&&E.stringify,C="prototype",H=d("_hidden"),V=d("toPrimitive"),N={}.propertyIsEnumerable,M=u("symbol-registry"),A=u("symbols"),z=u("op-symbols"),G=Object[C],J="function"==typeof j,B=a.QObject,I=!B||!B[C]||!B[C].findChild,R=o&&c(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var a=T(G,e);a&&delete G[e],D(t,e,n),a&&t!==G&&D(G,e,a)}:D,U=function(t){var e=A[t]=x(j[C]);return e._k=t,e},q=J&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,n){return t===G&&K(z,e,n),v(t),e=S(e,!0),v(n),r(A,e)?(n.enumerable?(r(t,H)&&t[H][e]&&(t[H][e]=!1),n=x(n,{enumerable:F(0,!1)})):(r(t,H)||D(t,H,F(1,{})),t[H][e]=!0),R(t,e,n)):D(t,e,n)},W=function(t,e){v(t);var n,a=h(e=w(e)),r=0,o=a.length;while(o>r)K(t,n=a[r++],e[n]);return t},Y=function(t,e){return void 0===e?x(t):W(x(t),e)},Z=function(t){var e=N.call(this,t=S(t,!0));return!(this===G&&r(A,t)&&!r(z,t))&&(!(e||!r(this,t)||!r(A,t)||r(this,H)&&this[H][t])||e)},Q=function(t,e){if(t=w(t),e=S(e,!0),t!==G||!r(A,e)||r(z,e)){var n=T(t,e);return!n||!r(A,e)||r(t,H)&&t[H][e]||(n.enumerable=!0),n}},X=function(t){var e,n=L(w(t)),a=[],o=0;while(n.length>o)r(A,e=n[o++])||e==H||e==l||a.push(e);return a},tt=function(t){var e,n=t===G,a=L(n?z:w(t)),o=[],i=0;while(a.length>i)!r(A,e=a[i++])||n&&!r(G,e)||o.push(A[e]);return o};J||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=m(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(z,n),r(this,H)&&r(this[H],t)&&(this[H][t]=!1),R(this,t,F(1,n))};return o&&I&&R(G,t,{configurable:!0,set:e}),U(t)},s(j[C],"toString",function(){return this._k}),k.f=Q,_.f=K,n("6abf").f=O.f=X,n("355d").f=Z,n("9aa9").f=tt,o&&!n("b8e3")&&s(G,"propertyIsEnumerable",Z,!0),p.f=function(t){return U(d(t))}),i(i.G+i.W+i.F*!J,{Symbol:j});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var at=$(d.store),rt=0;at.length>rt;)b(at[rt++]);i(i.S+i.F*!J,"Symbol",{for:function(t){return r(M,t+="")?M[t]:M[t]=j(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){I=!0},useSimple:function(){I=!1}}),i(i.S+i.F*!J,"Object",{create:Y,defineProperty:K,defineProperties:W,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:tt}),E&&i(i.S+i.F*(!J||c(function(){var t=j();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){var e,n,a=[t],r=1;while(arguments.length>r)a.push(arguments[r++]);if(n=e=a[1],(y(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),a[1]=e,P.apply(E,a)}}),j[C][V]||n("35e8")(j[C],V,j[C].valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},"0395":function(t,e,n){var a=n("36c3"),r=n("6abf").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==o.call(t)?s(t):r(a(t))}},"268f":function(t,e,n){t.exports=n("fde4")},"2b06":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"danger"},on:{click:t.deletesHandle}},[t._v("批量删除")])],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary"},on:{click:t.addHandle}},[t._v("添加数据")])],1),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selectUserHandle},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),n("el-col",{attrs:{span:6}},[n("el-date-picker",{attrs:{"value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.selectTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),n("el-col",{attrs:{span:3}})],1),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"日期",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("fromTime")(e.row.c_time)))]}}])}),n("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120"}}),n("el-table-column",{attrs:{prop:"number",label:"数量","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Top Left 提示文字",placement:"top-start"}},[n("el-button",{attrs:{size:"mini",disabled:t.deleFlag(e.row)},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])],1),n("el-button",{attrs:{size:"mini",type:"danger",disabled:t.deleFlag(e.row)},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.changHandle}}),n("el-dialog",{attrs:{title:"添加数据",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{type:"text",readonly:"",autocomplete:"off"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),n("el-form-item",{attrs:{label:"选择日期",prop:"c_time"}},[n("el-date-picker",{attrs:{"value-format":"timestamp",type:"date",placeholder:"选择日期"},model:{value:t.ruleForm.c_time,callback:function(e){t.$set(t.ruleForm,"c_time",e)},expression:"ruleForm.c_time"}})],1),n("el-form-item",{attrs:{label:"数量",prop:"number"}},[n("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.ruleForm.number,callback:function(e){t.$set(t.ruleForm,"number",t._n(e))},expression:"ruleForm.number"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)]),n("el-dialog",{attrs:{title:"提示",visible:t.editFlag,width:"30%","before-close":t.editHandleClose},on:{"update:visible":function(e){t.editFlag=e}}},[n("span",[n("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:t.editForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{type:"text",readonly:"",autocomplete:"off"},model:{value:t.editForm.username,callback:function(e){t.$set(t.editForm,"username",e)},expression:"editForm.username"}})],1),n("el-form-item",{attrs:{label:"选择日期",prop:"c_time"}},[n("el-date-picker",{attrs:{"value-format":"timestamp",type:"date",placeholder:"选择日期"},model:{value:t.editForm.c_time,callback:function(e){t.$set(t.editForm,"c_time",e)},expression:"editForm.c_time"}})],1),n("el-form-item",{attrs:{label:"数量",prop:"number"}},[n("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.editForm.number,callback:function(e){t.$set(t.editForm,"number",t._n(e))},expression:"editForm.number"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editFlag=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editFormHandle("editForm")}}},[t._v("确定")])],1)])],1)},r=[],o=(n("ac6a"),n("7f7f"),n("cebc")),i=n("2f62"),s={data:function(){return{dialogVisible:!1,editFlag:!1,page:1,pageSize:10,total:0,tableData:[],multipleSelection:[],ruleForm:{username:"",c_time:"",number:""},options:[],value:"全部",time:"",editForm:{},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],number:[{required:!0,message:"数量不能为空",trigger:"blur"},{type:"number",message:"必须输入数字",trigger:"blur"}]}}},computed:Object(o["a"])({},Object(i["c"])(["menuFlag","users"]),{deleFlag:function(){var t=this;return function(e){return 0!=t.users.istatus&&e.username!=t.users.name}}}),created:function(){this.ruleForm.username=this.users.name,this.ruleForm.c_time=(new Date).getTime(),this.getData(),this.getZhuUser()},methods:{toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleEdit:function(t,e){console.log(t,e),this.editFlag=!0,this.editForm=Object(o["a"])({},e)},handleDelete:function(t,e){var n=this;this.$confirm("是否删除文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.deleteData(e._id)}).catch(function(){})},addHandle:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post("/api/show/add",Object(o["a"])({},e.ruleForm)).then(function(t){200==t.status&&0==t.data.code?(e.$message.success("保存成功"),e.dialogVisible=!1,e.getData(),e.ruleForm.number=""):e.$message.warning(t.data.data)}).catch(function(t){console.log(t)})})},deleteData:function(t){var e=this;console.log(t),this.$axios.get("/api/show/delete",{params:{_id:t}}).then(function(t){if(200==t.status&&0==t.data.code)return e.$message.success("删除成功"),e.dialogVisible=!1,e.getData(),!1}).catch(function(t){e.$message.warning("删除失败"),e.$message.warning(t)})},editFormHandle:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post("/api/show/update",Object(o["a"])({},e.editForm)).then(function(t){200==t.status&&0==t.data.code&&(e.$message.success("更新成功"),e.getData(),e.editFlag=!1)}).catch(function(t){console.log(t)})})},getData:function(){var t=this;this.$axios.get("/api/show/getList",{params:{page:this.page,pageSize:this.pageSize}}).then(function(e){200==e.status&&0==e.data.code&&(t.tableData=e.data.data,t.total=e.data.total)})},changHandle:function(t){this.page=t,this.getData()},editHandleClose:function(){this.editFlag=!1},deletesHandle:function(){var t=this,e=this.multipleSelection;if(0==e.length)return this.$message.warning("请选择数据"),!1;this.$confirm("是否批量删除数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(0==t.users.istatus){for(var n=0;n<=e.length-1;n++)t.deleteData(e[n]._id);return!1}for(var a=0;a<=e.length-1;a++)e[a].username==t.users.name?t.deleteData(e[a]._id):t.$message.warning("权限不够，只能删除自己的数据")}).catch(function(){})},getZhuUser:function(){var t=this;this.$axios.get("/api/users/zhu").then(function(e){var n={name:"全部"};200==e.status&&0==e.data.code&&(t.options=e.data.data,t.options.unshift(n),console.log(t.options))}).catch(function(e){t.$message.warning(e)})},selectUserHandle:function(t){var e=this;if("全部"==t)return this.getData(),!1;this.value=t,this.$axios.get("/api/show/search",{params:{username:t}}).then(function(t){200==t.status&&0==t.data.code&&(e.tableData=t.data.data,e.total=t.data.total)}).catch(function(t){e.$message.warning(t)})},selectTime:function(t){var e=this,n=this;"全部"==this.value?this.$axios.get("/api/show/search",{params:{startTime:t[0],endTime:t[1]}}).then(function(t){200==t.status&&0==t.data.code&&(e.tableData=t.data.data,e.total=t.data.total)}).catch(function(t){e.$message.warning(t)}):this.$axios.get("/api/show/search",{params:{startTime:t[0],endTime:t[1],username:n.username}}).then(function(t){200==t.status&&0==t.data.code&&(e.tableData=t.data.data,e.total=t.data.total)}).catch(function(t){e.$message.warning(t)})}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,r,!1,null,null,null);e["default"]=u.exports},"32a6":function(t,e,n){var a=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(a(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"47ee":function(t,e,n){var a=n("c3a1"),r=n("9aa9"),o=n("355d");t.exports=function(t){var e=a(t),n=r.f;if(n){var i,s=n(t),l=o.f,c=0;while(s.length>c)l.call(t,i=s[c++])&&e.push(i)}return e}},6718:function(t,e,n){var a=n("e53d"),r=n("584a"),o=n("b8e3"),i=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:i.f(t)})}},"6abf":function(t,e,n){var a=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},"7f7f":function(t,e,n){var a=n("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in r||n("9e1e")&&a(r,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},9003:function(t,e,n){var a=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a4bb:function(t,e,n){t.exports=n("8aae")},ac6a:function(t,e,n){for(var a=n("cadf"),r=n("0d58"),o=n("2aba"),i=n("7726"),s=n("32e9"),l=n("84f2"),c=n("2b4c"),u=c("iterator"),f=c("toStringTag"),m=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),b=0;b<p.length;b++){var h,g=p[b],v=d[g],y=i[g],w=y&&y.prototype;if(w&&(w[u]||s(w,u,m),w[f]||s(w,f,g),l[g]=m,v))for(h in a)w[h]||o(w,h,a[h],!0)}},bf0b:function(t,e,n){var a=n("355d"),r=n("aebd"),o=n("36c3"),i=n("1bc3"),s=n("07e3"),l=n("794b"),c=Object.getOwnPropertyDescriptor;e.f=n("8e60")?c:function(t,e){if(t=o(t),e=i(e,!0),l)try{return c(t,e)}catch(n){}if(s(t,e))return r(!a.f.call(t,e),t[e])}},bf90:function(t,e,n){var a=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(a(t),e)}})},ccb9:function(t,e,n){e.f=n("5168")},ce7e:function(t,e,n){var a=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),a(a.S+a.F*o(function(){n(1)}),"Object",i)}},cebc:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var a=n("268f"),r=n.n(a),o=n("e265"),i=n.n(o),s=n("a4bb"),l=n.n(s),c=n("bd86");function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=l()(n);"function"===typeof i.a&&(a=a.concat(i()(n).filter(function(t){return r()(n,t).enumerable}))),a.forEach(function(e){Object(c["a"])(t,e,n[e])})}return t}},e265:function(t,e,n){t.exports=n("ed33")},ebfd:function(t,e,n){var a=n("62a0")("meta"),r=n("f772"),o=n("07e3"),i=n("d9f6").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("294c")(function(){return l(Object.preventExtensions({}))}),u=function(t){i(t,a,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,a)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[a].i},m=function(t,e){if(!o(t,a)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[a].w},d=function(t){return c&&p.NEED&&l(t)&&!o(t,a)&&u(t),t},p=t.exports={KEY:a,NEED:!1,fastKey:f,getWeak:m,onFreeze:d}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var a=n("584a").Object;t.exports=function(t,e){return a.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-14942503.1338b12b.js.map