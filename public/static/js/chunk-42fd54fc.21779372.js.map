{"version":3,"sources":["webpack:///./src/views/register.vue?1cad","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?5434","webpack:///./src/views/register.vue","webpack:///./src/views/register.vue?7e07"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","labelPosition","model","register","status-icon","rules","label-width","label","prop","type","autocomplete","value","callback","$$v","$set","expression","staticStyle","width","placeholder","_l","item","key","disabled","on","click","$event","submitForm","changeRouter","staticRenderFns","registervue_type_script_lang_js_","name","data","_this","checkPwds","rule","Error","password","email","istatus","required","message","trigger","min","max","eamil","checkPwd","validator","options","methods","formName","_this2","$refs","validate","valid","console","log","$axios","post","then","res","avatar","$message","$router","push","msg","catch","err","resetForm","resetFields","views_registervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_register_vue_vue_type_style_index_0_id_2b0beed7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_register_vue_vue_type_style_index_0_id_2b0beed7_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-42fd54fc.21779372.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"froms-container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"后台管理系统\")]),_c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"registerFrom\",staticClass:\"registerClass\",attrs:{\"labelPosition\":\"left\",\"model\":_vm.register,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.register.name),callback:function ($$v) {_vm.$set(_vm.register, \"name\", $$v)},expression:\"register.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.register.email),callback:function ($$v) {_vm.$set(_vm.register, \"email\", $$v)},expression:\"register.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.register.password),callback:function ($$v) {_vm.$set(_vm.register, \"password\", $$v)},expression:\"register.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.register.checkPwd),callback:function ($$v) {_vm.$set(_vm.register, \"checkPwd\", $$v)},expression:\"register.checkPwd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择身份\",\"prop\":\"istatus\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择身份\"},model:{value:(_vm.register.istatus),callback:function ($$v) {_vm.$set(_vm.register, \"istatus\", $$v)},expression:\"register.istatus\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"disabled\":item.value==0,\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('registerFrom')}}},[_vm._v(\"注册\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeRouter}},[_vm._v(\"登陆\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"froms-container\">\r\n        <h3 class=\"title\">后台管理系统</h3>\r\n        <div class=\"content\">\r\n            <el-form\r\n                labelPosition=\"left\"\r\n                :model=\"register\"\r\n                status-icon\r\n                :rules=\"rules\"\r\n                ref=\"registerFrom\"\r\n                label-width=\"100px\"\r\n                class=\"registerClass\"\r\n            >\r\n                <el-form-item label=\"用户名\" prop=\"name\">\r\n                    <el-input type=\"text\" v-model=\"register.name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input type=\"text\" v-model=\"register.email\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input type=\"password\" v-model=\"register.password\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认密码\" prop=\"checkPwd\">\r\n                    <el-input type=\"password\" v-model=\"register.checkPwd\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"选择身份\" prop=\"istatus\">\r\n                    <el-select v-model=\"register.istatus\" placeholder=\"请选择身份\" style=\"width: 100%\">\r\n                        <el-option\r\n                            v-for=\"item in options\"\r\n                            :key=\"item.value\"\r\n                            :disabled=\"item.value==0\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                        ></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n\r\n                <el-button type=\"primary\" @click=\"submitForm('registerFrom')\">注册</el-button>\r\n                <el-button type=\"primary\" @click=\"changeRouter\">登陆</el-button>\r\n            </el-form>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"register\",\r\n    data() {\r\n        var checkPwds = (rule, value, callback) => {\r\n            if (value === \"\") {\r\n                callback(new Error(\"请再次输入密码\"));\r\n            } else if (value !== this.register.password) {\r\n                callback(new Error(\"两次输入密码不一致!\"));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            register: {\r\n                password: \"\",\r\n                name: \"\",\r\n                email: \"\",\r\n                istatus: \"\"\r\n            },\r\n            rules: {\r\n                name: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入账户\",\r\n                        trigger: \"blur\"\r\n                    },\r\n                    {\r\n                        min: 5,\r\n                        max: 30,\r\n                        message: \"长度在 5 到 30个字符\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                eamil: [\r\n                    {\r\n                        type: \"email\",\r\n                        required: true,\r\n                        message: \"请输入正确的邮箱\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                password: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入密码\",\r\n                        trigger: \"blur\"\r\n                    },\r\n                    {\r\n                        min: 6,\r\n                        max: 20,\r\n                        message: \"长度在 6 到 20个字符\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                checkPwd: [\r\n                    {\r\n                        validator: checkPwds,\r\n                        trigger: \"blur\"\r\n                    },\r\n                    {\r\n                        min: 6,\r\n                        max: 20,\r\n                        message: \"长度在 6 到 20个字符\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ]\r\n                //  status: [\r\n                //    { required: true,message:'请选择身份', trigger: 'blur' }\r\n                // ]\r\n            },\r\n            options: [\r\n                {\r\n                    value: \"0\",\r\n                    label: \"管理员\"\r\n                },\r\n                {\r\n                    value: \"1\",\r\n                    label: \"普通用户\"\r\n                },\r\n                {\r\n                    value: \"3\",\r\n                    label: \"小助手\"\r\n                }\r\n            ],\r\n            value: \"\"\r\n        };\r\n    },\r\n    methods: {\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate(valid => {\r\n                if (valid) {\r\n                    console.log(this.register);\r\n                    this.$axios\r\n                        .post(\"/api/users/register\", this.register)\r\n                        .then(res => {\r\n                            console.log(res);\r\n                            if (res.data.avatar) {\r\n                                this.$message({\r\n                                    message: \"注册成功,请登陆\",\r\n                                    type: \"success\"\r\n                                });\r\n\r\n                                this.$router.push(\"/login\");\r\n                            } else {\r\n                                this.$message({\r\n                                    message: res.data.msg,\r\n                                    type: \"error\"\r\n                                });\r\n                            }\r\n                        })\r\n                        .catch(err => {\r\n                            console.log(err);\r\n                        });\r\n\r\n                    // this.$router.push('/login');\r\n                } else {\r\n                    console.log(\"error submit!!\");\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        resetForm(formName) {\r\n            this.$refs[formName].resetFields();\r\n        },\r\n        changeRouter() {\r\n            this.$router.push(\"/login\");\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\n.froms-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url(\"../assets/images/bg.jpg\") no-repeat;\r\n    background-size: 100% 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    flex-direction: column;\r\n}\r\n\r\n.content {\r\n    width: 30%;\r\n    margin: auto;\r\n    text-align: center;\r\n    background: #fff;\r\n    padding: 50px;\r\n    margin-top: 0;\r\n}\r\n\r\n.title {\r\n    margin: 20px 0;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    margin-top: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=2b0beed7&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=2b0beed7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b0beed7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=2b0beed7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=2b0beed7&scoped=true&lang=css&\""],"sourceRoot":""}